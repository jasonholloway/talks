# -**- mode: Org; eval: (reveal-mode 1); -**-
# -**- org-image-actual-width: 500; -**-
#+OPTIONS: toc:nil 
#+REVEAL_INIT_SCRIPT: slideNumber: 'h.v', 
#+REVEAL_INIT_SCRIPT: hash: true, 
#+REVEAL_THEME: sunblind
#+REVEAL_TRANS:None
#+REVEAL_TITLE_SLIDE:
#+REVEAL_EXTRA_CSS:./custom.css
#+Title: Docker in the Desert: A Testing Mirage
#+Description: The Testing Pyramid often collapses in on itself, especially in the spangly world of Microservices. Luckily, containers are here to pull it all together. Featuring Docker, SqlServer and a variety of camels.

* Pyramids of the World

*** Djoser - Stepped
		[[./images/djoser.jpg]]
		#+BEGIN_NOTES
		- 2630BC
		- stepped, 'staggering'
		- 6-tier
	  - loads of /mastabas/ stacked
		- earliest collossal mound in Egypt
		- 63m high (almost twice as tall as Stockport pyramid)
		- Djoser was first pharaoh of dynasty, after unification of Upper and Lower Egypt: prosperity
		- build for him by the demi-god Imhotep
		#+END_NOTES

*** Meidum - Collapsed
		[[./images/meidum-pyramid.jpg]]
		#+BEGIN_NOTES
		- straight, disasterous
		- Sneferu, 1st King of 4th dynasty, inherited construction from his dad, Huni
		#+END_NOTES

*** Bent Pyramid
		[[./images/bent-pyramid.jpg]]
		#+BEGIN_NOTES
		- Sneferu's first pyramid 
		- changed angle and technique of bricklaying half way up
		#+END_NOTES

*** Great Pyramid of Giza - Success
		[[./images/giza3.jpg]]
		#+BEGIN_NOTES
		- Pyramid of Khufu (bigger), Khafre (slightly smaller) and Menkaure (smaller, damaged)
		- Khafre in the middle below, retains a cap of polished limestone
		- one of the seven wonders of the world, the only one still standing
		- tallest on earth till 1300AD
		- Khufu was Sneferu's son
		- perfected the shape but then decided it wasn't worthwhile
			subsequent pyramids smaller, cheaper, naffer
		- https://upload.wikimedia.org/wikipedia/commons/a/ac/Comparison_of_pyramids_SMIL.svg
		#+END_NOTES

#+BEGIN_QUOTE
Most software today is very much like an Egyptian pyramid with millions of bricks piled on top of each other, with no structural integrity, but just done by brute force and thousands of slaves. 
-- Alan Kay
#+END_QUOTE


* The Testing Pyramid
*** Pyramid
		[[./images/testpyramid.1.png]]
		#+BEGIN_NOTES
		- devised by Mike Cohn in 2009(AD)
		- ambiguity of axes
		#+END_NOTES

*** Teardrop
		[[./images/teardrop.svg]]
		#+BEGIN_NOTES
		- tautological tests very low value, with high maintenance
		#+END_NOTES
*** Onion
		[[./images/onion.svg]]
		#+BEGIN_NOTES
		- tests above and around ease refactoring
		- tests below are like concrete
		- reflects structure of implementation - simpler software at a courser granularity
		#+END_NOTES
*** Spinning Top
		[[./images/spinningtop.svg]]
#+BEGIN_NOTES
  - microservices pushing the horizontal line down
	- previously HTTP pipeline was a barrier; not so anymore
	- SQLServer in particular!
	- but in general, Processes outside of CLR
#+END_NOTES
*** The challenge: make the pyramid triangular again

* Process Wrangling
	#+BEGIN_NOTES
	- What is Docker? needs to be asked here 
	#+END_NOTES
** Camel Market
	[[./images/camel-market2.jpg]]
	#+BEGIN_NOTES
	- contention
	- unpreparedness
	#+END_NOTES

** Ready to Ride
	[[./images/camels-pool.jpg]]


** SqlServer for Linux
	 - ported in 2017
	 - adopted experimental Drawbridge project, effectively a small virtual Windows in a process
		 - very similar to Docker itself
		 - https://www.microsoft.com/en-us/research/project/drawbridge/
	 - SqlServer in many ways an OS to itself - bypasses OS memory and disk management
	 - so SqlServer inside Drawbridge inside Docker inside...
	 - proprietary, but free for non-production use
	 - Microsoft offers downloadable Docker image

* Code
	...
